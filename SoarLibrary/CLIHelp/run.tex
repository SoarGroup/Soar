\subsection{\soarb{run}}
\label{run}
\index{run}
Begin Soar\^a€™s execution cycle. 
\subsubsection*{Synopsis}
\begin{verbatim}
run  [f|\emph{count}
]
run -[d|e|o|p][s][un] [f|\emph{count}
]
run -[d|e|o|p][un] \emph{count}
 [-i <e|p|d|o>]
\end{verbatim}
\subsubsection*{Options}
\begin{tabular}{|l|l|}
\hline 
 -d, --decision  & Run Soar for count decision cycles.  \\
 \hline 
 -e, --elaboration  & Run Soar for count elaboration cycles.  \\
 \hline 
 -o, --output  & Run Soar until the nth time output is generated by the agent. Limited by the value of max-nil-output-cycles.  \\
 \hline 
 -p, --phase  & Run Soar by phases. A phase is either an input phase, proposal phase, decision phase, apply phase, or output phase.  \\
 \hline 
 -s, --self  & If other agents exist within the kernel, do not run them at this time.  \\
 \hline 
 -u, --update  & Sets a flag in the update event callback requesting that an environment updates. This is the default if --self is not specified.  \\
 \hline 
 -n, --noupdate  & Sets a flag in the update event callback requesting that an environment does not update. This is the default if --self is specified.  \\
 \hline 
 f, forever  & Run until halted by problem-solving completion or until stopped by an interrupt.  \\
 \hline 
 count  & A single integer which specifies the number of cycles to run Soar.  \\
 \hline 
 -i, --interleave  & Support round robin execution across agents at a finer grain than the run-size parameter. e = elaboration, p = phase, d = decision, o = output  \\
 \hline 
\end{tabular}
\paragraph*{Deprecated Options}
 These may be reimplemented in the future. 
\begin{tabular}{|l|l|}
\hline 
 --operator  & Run Soar until the nth time an operator is selected.  \\
 \hline 
 --state  & Run Soar until the nth time a state is selected.  \\
 \hline 
\end{tabular}
\subsubsection*{Description}
 The \textbf{run}
 command starts the Soar execution cycle or continues any execution that was temporarily stopped. The default behavior of \textbf{run}
, with no arguments, is to cause Soar to execute until it is halted or interrupted by an action of a production, or until an external interrupt is issued by the user. The \textbf{run}
 command can also specify that Soar should run only for a specific number of Soar cycles or phases (which may also be prematurely stopped by a production action or the stop-soar command). This is helpful for debugging sessions, where users may want to pay careful attention to the specific productions that are firing and retracting. 
 The \textbf{run}
 command takes optional arguments: an integer, \emph{count}
, which specifies how many units to run; and a \emph{units}
 flag indicating what steps or increments to use. If \emph{count}
 is specified, but no \emph{units}
 are specified, then Soar is run by decision cycles. If \emph{units}
 are specified, but \emph{count}
 is unpecified, then \emph{count}
 defaults to '1'. The argument \textbf{forever}
 (can be shortened to \textbf{f}
) is a keyword used instead of an integer \emph{count}
 and indicates Soar should be run indefinitely, until halted by problem-solving completion, or stopped by an interrupt. 
 If there are multiple Soar agents that exist in the same Soar process, then issuing a \textbf{run}
 command in any agent will cause all agents to run with the same set of parameters, unless the flag \textbf{--self}
 is specified, in which case only that agent will execute. 
 If an environment is registered for the kernel's update event, then when the event it triggered, the environment will get information about how the \textbf{run}
 was executed. If a \textbf{run}
 was executed with the --update option, then then event sends a flag requesting that the environment actually update itself. If a \textbf{run}
 was executed with the --noupdate option, then the event sends a flag requesting that the environment not update itself. The --update option is the default when run is specified without the --self option is not specified. If the --self option is specified, then the --noupdate option is on by default. It is up to the environment to check for these flags and honor them. 
 Some use cases include: 
\begin{tabular}{|l|l|}
\hline 
 run --self  & runs one agent but not the environment  \\
 \hline 
 run --self --update  & runs one agent and the environment  \\
 \hline 
 run  & runs all agents and the environment  \\
 \hline 
 run --noupdate  & runs all agents but not the environment  \\
 \hline 
\end{tabular}
\paragraph*{Setting an interleave size}
 When there are multiple agents running within the same process, it may be useful to keep agents more closely aligned in their execution cycle than the run increment (--elaboration, --phases, --decisions, --output) specifies. For instance, it may be necessary to keep agents in ``lock step'' at the phase level, eventhough the \textbf{run}
 command issued is for 5 decisions. Some use cases include: 
\begin{tabular}{|l|l|}
\hline 
 run -d 5 -inteleave p  & run the agent one phase and then move to the next agent, \\ 
 looping over agents until they have run for 5 decision cycles  \\
 \hline 
 run -o 3 -interleave d  & run the agent one decision cycle and then move to the next agent. When an agent \\ 
generates output for the 3rd time, it no longer runs even if other agents continue.  \\
 \hline 
\end{tabular}
 The \textbf{interleave}
 parameter must always be equal to or smaller than the specified \textbf{run}
 parameter. This option is not currently compatible with the \textbf{forever}
 option. 
\paragraph*{Note}
 If Soar has been stopped due to a \textbf{halt}
 action, an \textbf{init-soar}
 command must be issued before Soar can be restarted with the \textbf{run}
 command. 
\subsubsection*{Default Aliases}
\begin{tabular}{|l|l|}
\hline 
 Alias  & Maps to  \\
 \hline 
 d  & run -d 1  \\
 \hline 
 e  & run -e 1  \\
 \hline 
 step  & run 1  \\
 \hline 
\end{tabular}
